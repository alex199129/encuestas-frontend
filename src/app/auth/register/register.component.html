<div class="container mt-5">
  <h2>Registrarse</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <!-- Nombre -->
    <div class="form-group mb-3">
      <label for="nombre">Nombre</label>
      <input id="nombre" formControlName="nombre" type="text"
            class="form-control"
            [class.is-invalid]="submitted && f['nombre'].errors" />
      <div *ngIf="submitted && f['nombre'].errors" class="invalid-feedback">
        El nombre es obligatorio.
      </div>
    </div>

    <!-- Email -->
    <div class="form-group mb-3">
      <label for="email">Correo electrónico</label>
      <input id="email" formControlName="email" type="email"
             class="form-control"
             [class.is-invalid]="submitted && f['email'].errors" />
      <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
        <div *ngIf="f['email'].errors?.['required']">El correo es obligatorio.</div>
        <div *ngIf="f['email'].errors?.['email']">Correo inválido.</div>
      </div>
    </div>

    <!-- Contraseña -->
    <div class="form-group mb-3">
      <label for="password">Contraseña</label>
      <input id="password" formControlName="password" type="password"
             class="form-control"
             [class.is-invalid]="submitted && f['password'].errors" />
      <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
        <div *ngIf="f['password'].errors?.['required']">La contraseña es obligatoria.</div>
        <div *ngIf="f['password'].errors?.['minlength']">Mínimo 6 caracteres.</div>
      </div>
    </div>

    <!-- Confirmar contraseña -->
    <div class="form-group mb-3">
      <label for="confirmPassword">Confirmar contraseña</label>
      <input id="confirmPassword" formControlName="confirmPassword" type="password"
             class="form-control"
             [class.is-invalid]="submitted && (f['confirmPassword'].errors || registerForm.errors?.['mismatch'])" />
      <div *ngIf="submitted && (f['confirmPassword'].errors || registerForm.errors?.['mismatch'])"
           class="invalid-feedback">
        Las contraseñas no coinciden.
      </div>
    </div>

    <!-- Rol -->
    <div class="form-group mb-3">
      <label for="rol">Tipo de usuario</label>
      <select id="rol" formControlName="rol" class="form-control"
              [class.is-invalid]="submitted && f['rol'].errors">
        <option value="">Seleccione una opción</option>
        <option value="EMPRESA">Empresa</option>
        <option value="USUARIO">Usuario</option>
      </select>
      <div *ngIf="submitted && f['rol'].errors" class="invalid-feedback">
        El rol es obligatorio.
      </div>
    </div>

    <!-- Mensajes -->
     <!-- 
    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
    -->

    <button type="submit" class="btn btn-success w-100">Registrarse</button>

    <div class="text-center mt-3">
      ¿Ya tienes cuenta?
      <a routerLink="/auth/login" class="ms-1">Autentíquese aquí</a>
    </div>

  </form>
</div>
